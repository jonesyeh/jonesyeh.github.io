{"version":3,"sources":["../../src/validators/ExistsVaildator.ts","../../src/pages/register/register.ts","../../src/pages/register/register.module.ts"],"names":[],"mappings":"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","file":"279.js","sourcesContent":["import {  ValidatorFn, AbstractControl } from \"@angular/forms\";\n\n\nexport class ExistsVaildator {\n  static validateConnIDFactory = (\n    lists:string[]\n  ): ValidatorFn => {\n\n    return (c: AbstractControl) => {\n\n      if (c.value) {\n        if(lists)\n        {\n        return lists.findIndex(p => p === c.value)>=0\n          ? {\n              validateConnIDFactory: true\n            }\n          : null;\n        }\n        else\n          return null;\n      } else return null;\n    };\n  };\n  static EquieFactory = (\n    compare_name:string\n  ): ValidatorFn => {\n\n    return (c: AbstractControl) => {\n\n      if (c.value) {\n        var compare_to=c.parent.get(compare_name).value;\n        if(compare_to>\"\")\n        {\n        return compare_to !== c.value\n          ? {\n            EquieFactory: true\n            }\n          : null;\n        }\n        else\n          return null;\n      } else return null;\n    };\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/validators/ExistsVaildator.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AuthServicesProvider  } from '../../providers/auth-services/auth-services';\nimport { GlobalComponent } from '../../components/global/global';\nimport { ApiUrlServicesProvider } from '../../providers/api-url-services/api-url-services';\nimport { MyAppSharedSettings } from '../../Model/MyAppSharedSettings';\nimport { ApiUrlViewModel } from '../../Model/ViewModel/ApiUrlViewModel';\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { ExistsVaildator } from '../../validators/ExistsVaildator';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n  data_list: ApiUrlViewModel[];\n  default_api_url: ApiUrlViewModel;\n  registerCredentials = { userName: '', password: ''};\n  confirm_password:string;\n  myForm:FormGroup;\n  constructor(public navCtrl: NavController\n   , public navParams: NavParams\n    , private authServices: AuthServicesProvider\n    ,private global: GlobalComponent\n    ,private ApiUrlServices: ApiUrlServicesProvider\n    ,private conf: MyAppSharedSettings,\n    public formBuilder:FormBuilder,\n   ) {\n    this.myForm = this.formBuilder.group({\n      default_api_url:new FormControl(this.default_api_url),\n      userName:new FormControl(''),\n      password: new FormControl(''),\n      confirm_password: new FormControl('' ,ExistsVaildator.EquieFactory('password')),\n  });\n      this.LoadData(true);\n\n\n  }\n\n  public openNavApiUrlPage() {\n    this.navCtrl.setRoot(\"ApiUrlPage\",{\n      parent_page:this,\n      parent_page_name:\"RegisterPage\",\n    })\n  }\n  onChangeObj(newObj) {\n    console.log(newObj);\n    this.default_api_url = newObj;\n    this.default_api_url.is_default=true;\n    this.ApiUrlServices.PostPutAsync(this.default_api_url,\"PUT\");\n    this.conf.API_URL=this.default_api_url.url;\n    this.conf.is_url_forward=this.default_api_url.is_url_forward;\n  }\n  LoadData(init: boolean) {\n\n    this.global.createLoader();\n    this.global.loading.present().then(() => {\n      this.ApiUrlServices.GetListsAsync(\"\", true).subscribe(\n        data => {\n          if (data.DidError === true) {\n            this.global.dismissLoading();\n            this.global.showError(data.ErrorMessage);\n          } else {\n            if (init) {\n              this.data_list = [];\n              this.data_list = data.Model;\n              if (this.data_list != null) {\n                let index = this.data_list.findIndex(d => d.is_default === true);\n                this.default_api_url = this.data_list[index];\n                this.conf.API_URL=this.default_api_url.url;\n                this.conf.is_url_forward=this.default_api_url.is_url_forward;\n              }\n            } else\n              for (let i = 0; i < data.Model.length; i++) {\n                this.data_list.push(data.Model[i]);\n              }\n            this.global.dismissLoading();\n          }\n        },\n        err => {\n          this.global.dismissLoading();\n          this.global.showError(\"無法連上WebAPI伺服器-\"+err.message);\n        }\n      );\n    });\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad RegisterPage');\n  }\n  public login() {\n        this.navCtrl.push('LoginPage');\n      }\n   public register() {\n    this.global.createLoader();\n    this.global.loading.present().then(() => {\n      this.authServices\n        .registerAsync(this.registerCredentials)\n        .subscribe(\n          data =>\n          {\n            this.global.dismissLoading();\n            if (data.DidError === false)\n            {\n               this.global.showPopup(data.Message,data.Message);\n               this.navCtrl.setRoot(\"HomePage\");\n            }\n            else\n            {\n              this.global.showError(data.ErrorMessage);\n            }\n\n          },\n          err =>\n          {\n            this.global.dismissLoading();\n            this.global.showError(\"無法連上WebAPI伺服器-\"+err.message);\n          }\n        );\n      });\n     }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts"],"sourceRoot":""}